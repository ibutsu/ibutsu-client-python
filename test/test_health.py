"""
Ibutsu API

A system to store and query test results

The version of the OpenAPI document: 2.8.3
Generated by OpenAPI Generator (https://openapi-generator.tech)

Do not edit the class manually.
"""

import json

from ibutsu_client.models.health import Health


class TestHealth:
    """Health model tests"""

    def test_health_creation_empty(self):
        """Test Health creation with no parameters"""
        health = Health()
        assert health.status is None
        assert health.message is None

    def test_health_creation_with_status(self):
        """Test Health creation with status only"""
        health = Health(status="OK")
        assert health.status == "OK"
        assert health.message is None

    def test_health_creation_full(self):
        """Test Health creation with all parameters"""
        health = Health(status="Error", message="Cannot connect to database")
        assert health.status == "Error"
        assert health.message == "Cannot connect to database"

    def test_health_to_dict(self):
        """Test Health to_dict conversion"""
        health = Health(status="OK", message="Database is healthy")
        health_dict = health.to_dict()

        assert isinstance(health_dict, dict)
        assert health_dict["status"] == "OK"
        assert health_dict["message"] == "Database is healthy"

    def test_health_to_json(self):
        """Test Health to_json conversion"""
        health = Health(status="Error", message="Connection failed")
        health_json = health.to_json()

        assert isinstance(health_json, str)
        parsed = json.loads(health_json)
        assert parsed["status"] == "Error"
        assert parsed["message"] == "Connection failed"

    def test_health_from_dict(self):
        """Test Health from_dict creation"""
        health_dict = {"status": "OK", "message": "All systems operational"}
        health = Health.from_dict(health_dict)

        assert isinstance(health, Health)
        assert health.status == "OK"
        assert health.message == "All systems operational"

    def test_health_from_json(self):
        """Test Health from_json creation"""
        health_json = '{"status": "Pending", "message": "Starting up"}'
        health = Health.from_json(health_json)

        assert isinstance(health, Health)
        assert health.status == "Pending"
        assert health.message == "Starting up"

    def test_health_to_str(self):
        """Test Health to_str representation"""
        health = Health(status="OK", message="Healthy")
        health_str = health.to_str()

        assert isinstance(health_str, str)
        assert "OK" in health_str
        assert "Healthy" in health_str

    def test_health_none_values_excluded(self):
        """Test that None values are excluded from dict"""
        health = Health(status="OK")
        health_dict = health.to_dict()

        assert "status" in health_dict
        assert "message" not in health_dict

    def test_health_from_dict_none(self):
        """Test Health.from_dict with None returns None"""
        health = Health.from_dict(None)
        assert health is None

    def test_health_roundtrip_json(self):
        """Test Health can be serialized and deserialized"""
        original = Health(status="Error", message="Test error")
        json_str = original.to_json()
        restored = Health.from_json(json_str)

        assert restored.status == original.status
        assert restored.message == original.message
