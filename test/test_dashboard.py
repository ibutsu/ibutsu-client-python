"""
Ibutsu API

A system to store and query test results

The version of the OpenAPI document: 2.8.3
Generated by OpenAPI Generator (https://openapi-generator.tech)

Do not edit the class manually.
"""

import json
from uuid import uuid4

from ibutsu_client.models.dashboard import Dashboard


class TestDashboard:
    """Dashboard model tests"""

    def test_dashboard_creation_empty(self):
        """Test Dashboard creation with no parameters"""
        dashboard = Dashboard()
        assert dashboard.id is None
        assert dashboard.title is None

    def test_dashboard_creation_full(self):
        """Test Dashboard creation with all parameters"""
        dashboard_id = uuid4()
        project_id = uuid4()
        user_id = uuid4()

        dashboard = Dashboard(
            id=dashboard_id,
            title="My Dashboard",
            description="A description",
            filters="key=value",
            project_id=project_id,
            user_id=user_id,
        )

        assert dashboard.id == dashboard_id
        assert dashboard.title == "My Dashboard"
        assert dashboard.description == "A description"
        assert dashboard.filters == "key=value"
        assert dashboard.project_id == project_id
        assert dashboard.user_id == user_id

    def test_dashboard_to_dict(self):
        """Test Dashboard to_dict conversion"""
        dashboard = Dashboard(title="Dict Dashboard")
        dashboard_dict = dashboard.to_dict()

        assert isinstance(dashboard_dict, dict)
        assert dashboard_dict["title"] == "Dict Dashboard"

    def test_dashboard_to_json(self):
        """Test Dashboard to_json conversion"""
        dashboard = Dashboard(title="JSON Dashboard")
        dashboard_json = dashboard.to_json()

        assert isinstance(dashboard_json, str)
        parsed = json.loads(dashboard_json)
        assert parsed["title"] == "JSON Dashboard"

    def test_dashboard_from_dict(self):
        """Test Dashboard from_dict creation"""
        dashboard_dict = {"title": "From Dict", "description": "Desc"}
        dashboard = Dashboard.from_dict(dashboard_dict)

        assert isinstance(dashboard, Dashboard)
        assert dashboard.title == "From Dict"
        assert dashboard.description == "Desc"

    def test_dashboard_from_json(self):
        """Test Dashboard from_json creation"""
        dashboard_json = '{"title": "From JSON"}'
        dashboard = Dashboard.from_json(dashboard_json)

        assert isinstance(dashboard, Dashboard)
        assert dashboard.title == "From JSON"

    def test_dashboard_to_str(self):
        """Test Dashboard to_str representation"""
        dashboard = Dashboard(title="Str Dashboard")
        dashboard_str = dashboard.to_str()

        assert isinstance(dashboard_str, str)
        assert "Str Dashboard" in dashboard_str

    def test_dashboard_none_values_excluded(self):
        """Test that None values are excluded from dict"""
        dashboard = Dashboard(title="None Dashboard")
        dashboard_dict = dashboard.to_dict()

        assert "title" in dashboard_dict
        assert "description" not in dashboard_dict

    def test_dashboard_from_dict_none(self):
        """Test Dashboard.from_dict with None returns None"""
        dashboard = Dashboard.from_dict(None)
        assert dashboard is None

    def test_dashboard_from_dict_non_dict(self):
        """Test from_dict with a non-dict object"""
        dash_obj = Dashboard(title="test_obj")
        new_dash = Dashboard.from_dict(dash_obj)
        assert new_dash.title == "test_obj"

    def test_dashboard_roundtrip_json(self):
        """Test Dashboard can be serialized and deserialized"""
        original = Dashboard(title="Roundtrip", user_id=uuid4())
        json_str = original.to_json()
        restored = Dashboard.from_json(json_str)

        assert restored.title == original.title
        assert restored.user_id == original.user_id
