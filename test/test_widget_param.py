"""
Ibutsu API

A system to store and query test results

The version of the OpenAPI document: 2.8.3
Generated by OpenAPI Generator (https://openapi-generator.tech)

Do not edit the class manually.
"""

import json

from ibutsu_client.models.widget_param import WidgetParam


class TestWidgetParam:
    """WidgetParam model tests"""

    def test_widget_param_creation_empty(self):
        """Test WidgetParam creation with no parameters"""
        widget_param = WidgetParam()
        assert widget_param.name is None
        assert widget_param.type is None

    def test_widget_param_creation_full(self):
        """Test WidgetParam creation with all parameters"""
        widget_param = WidgetParam(name="param1", description="A parameter", type="string")

        assert widget_param.name == "param1"
        assert widget_param.description == "A parameter"
        assert widget_param.type == "string"

    def test_widget_param_to_dict(self):
        """Test WidgetParam to_dict conversion"""
        widget_param = WidgetParam(name="dict_param")
        param_dict = widget_param.to_dict()

        assert isinstance(param_dict, dict)
        assert param_dict["name"] == "dict_param"

    def test_widget_param_to_json(self):
        """Test WidgetParam to_json conversion"""
        widget_param = WidgetParam(name="json_param")
        param_json = widget_param.to_json()

        assert isinstance(param_json, str)
        parsed = json.loads(param_json)
        assert parsed["name"] == "json_param"

    def test_widget_param_from_dict(self):
        """Test WidgetParam from_dict creation"""
        param_dict = {"name": "from_dict", "type": "integer"}
        widget_param = WidgetParam.from_dict(param_dict)

        assert isinstance(widget_param, WidgetParam)
        assert widget_param.name == "from_dict"
        assert widget_param.type == "integer"

    def test_widget_param_from_json(self):
        """Test WidgetParam from_json creation"""
        param_json = '{"name": "from_json"}'
        widget_param = WidgetParam.from_json(param_json)

        assert isinstance(widget_param, WidgetParam)
        assert widget_param.name == "from_json"

    def test_widget_param_to_str(self):
        """Test WidgetParam to_str representation"""
        widget_param = WidgetParam(name="str_param")
        param_str = widget_param.to_str()

        assert isinstance(param_str, str)
        assert "str_param" in param_str

    def test_widget_param_none_values_excluded(self):
        """Test that None values are excluded from dict"""
        widget_param = WidgetParam(name="none_param")
        param_dict = widget_param.to_dict()

        assert "name" in param_dict
        assert "description" not in param_dict

    def test_widget_param_from_dict_none(self):
        """Test WidgetParam.from_dict with None returns None"""
        widget_param = WidgetParam.from_dict(None)
        assert widget_param is None

    def test_widget_param_from_dict_non_dict(self):
        """Test from_dict with a non-dict object"""
        param_obj = WidgetParam(name="test_obj")
        new_param = WidgetParam.from_dict(param_obj)
        assert new_param.name == "test_obj"

    def test_widget_param_roundtrip_json(self):
        """Test WidgetParam can be serialized and deserialized"""
        original = WidgetParam(name="roundtrip", type="integer")
        json_str = original.to_json()
        restored = WidgetParam.from_json(json_str)

        assert restored.name == original.name
        assert restored.type == original.type
