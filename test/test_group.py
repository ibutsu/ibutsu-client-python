"""
Ibutsu API

A system to store and query test results

The version of the OpenAPI document: 2.8.3
Generated by OpenAPI Generator (https://openapi-generator.tech)

Do not edit the class manually.
"""

import json
from uuid import uuid4

from ibutsu_client.models.group import Group


class TestGroup:
    """Group model tests"""

    def test_group_creation_empty(self):
        """Test Group creation with no parameters"""
        group = Group()
        assert group.id is None
        assert group.name is None

    def test_group_creation_full(self):
        """Test Group creation with all parameters"""
        group_id = uuid4()

        group = Group(id=group_id, name="My Group")

        assert group.id == group_id
        assert group.name == "My Group"

    def test_group_to_dict(self):
        """Test Group to_dict conversion"""
        group = Group(name="Dict Group")
        group_dict = group.to_dict()

        assert isinstance(group_dict, dict)
        assert group_dict["name"] == "Dict Group"

    def test_group_to_json(self):
        """Test Group to_json conversion"""
        group = Group(name="JSON Group")
        group_json = group.to_json()

        assert isinstance(group_json, str)
        parsed = json.loads(group_json)
        assert parsed["name"] == "JSON Group"

    def test_group_from_dict(self):
        """Test Group from_dict creation"""
        group_dict = {"name": "From Dict"}
        group = Group.from_dict(group_dict)

        assert isinstance(group, Group)
        assert group.name == "From Dict"

    def test_group_from_json(self):
        """Test Group from_json creation"""
        group_json = '{"name": "From JSON"}'
        group = Group.from_json(group_json)

        assert isinstance(group, Group)
        assert group.name == "From JSON"

    def test_group_to_str(self):
        """Test Group to_str representation"""
        group = Group(name="Str Group")
        group_str = group.to_str()

        assert isinstance(group_str, str)
        assert "Str Group" in group_str

    def test_group_none_values_excluded(self):
        """Test that None values are excluded from dict"""
        group = Group(name="None Group")
        group_dict = group.to_dict()

        assert "name" in group_dict
        assert "id" not in group_dict

    def test_group_from_dict_none(self):
        """Test Group.from_dict with None returns None"""
        group = Group.from_dict(None)
        assert group is None

    def test_group_from_dict_non_dict(self):
        """Test from_dict with a non-dict object"""
        group_obj = Group(name="test_obj")
        new_group = Group.from_dict(group_obj)
        assert new_group.name == "test_obj"

    def test_group_roundtrip_json(self):
        """Test Group can be serialized and deserialized"""
        original = Group(name="Roundtrip", id=uuid4())
        json_str = original.to_json()
        restored = Group.from_json(json_str)

        assert restored.name == original.name
        assert restored.id == original.id
