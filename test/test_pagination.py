"""
Ibutsu API

A system to store and query test results

The version of the OpenAPI document: 2.8.3
Generated by OpenAPI Generator (https://openapi-generator.tech)

Do not edit the class manually.
"""

import json

from ibutsu_client.models.pagination import Pagination


class TestPagination:
    """Pagination model tests"""

    def test_pagination_creation_empty(self):
        """Test Pagination creation with no parameters"""
        pagination = Pagination()
        assert pagination.page is None
        assert pagination.page_size is None

    def test_pagination_creation_full(self):
        """Test Pagination creation with all parameters"""
        pagination = Pagination(page=1, page_size=25, total_pages=10, total_items=243)

        assert pagination.page == 1
        assert pagination.page_size == 25
        assert pagination.total_pages == 10
        assert pagination.total_items == 243

    def test_pagination_to_dict_aliases(self):
        """Test Pagination to_dict conversion uses aliases"""
        pagination = Pagination(page=1, page_size=10)
        pagination_dict = pagination.to_dict()

        assert isinstance(pagination_dict, dict)
        assert "page" in pagination_dict
        assert "pageSize" in pagination_dict
        assert "page_size" not in pagination_dict
        assert pagination_dict["pageSize"] == 10

    def test_pagination_to_json(self):
        """Test Pagination to_json conversion"""
        pagination = Pagination(page=2)
        pagination_json = pagination.to_json()

        assert isinstance(pagination_json, str)
        parsed = json.loads(pagination_json)
        assert parsed["page"] == 2

    def test_pagination_from_dict(self):
        """Test Pagination from_dict creation with aliases"""
        # Pydantic V2 from_dict/model_validate should handle aliases if populate_by_name is True (it is)
        # But input dict usually comes from API response which uses aliases (camelCase)
        pagination_dict = {"page": 3, "pageSize": 50, "totalPages": 5, "totalItems": 250}
        pagination = Pagination.from_dict(pagination_dict)

        assert isinstance(pagination, Pagination)
        assert pagination.page == 3
        assert pagination.page_size == 50

    def test_pagination_from_json(self):
        """Test Pagination from_json creation"""
        pagination_json = '{"page": 4, "pageSize": 100}'
        pagination = Pagination.from_json(pagination_json)

        assert isinstance(pagination, Pagination)
        assert pagination.page == 4
        assert pagination.page_size == 100

    def test_pagination_to_str(self):
        """Test Pagination to_str representation"""
        pagination = Pagination(page=5)
        pagination_str = pagination.to_str()

        assert isinstance(pagination_str, str)
        assert "page" in pagination_str

    def test_pagination_none_values_excluded(self):
        """Test that None values are excluded from dict"""
        pagination = Pagination(page=6)
        pagination_dict = pagination.to_dict()

        assert "page" in pagination_dict
        assert "pageSize" not in pagination_dict

    def test_pagination_from_dict_none(self):
        """Test Pagination.from_dict with None returns None"""
        pagination = Pagination.from_dict(None)
        assert pagination is None

    def test_pagination_from_dict_non_dict(self):
        """Test from_dict with a non-dict object"""
        pag_obj = Pagination(page=7)
        new_pag = Pagination.from_dict(pag_obj)
        assert new_pag.page == 7

    def test_pagination_roundtrip_json(self):
        """Test Pagination can be serialized and deserialized"""
        original = Pagination(page=8, page_size=20)
        json_str = original.to_json()
        restored = Pagination.from_json(json_str)

        assert restored.page == original.page
        assert restored.page_size == original.page_size
